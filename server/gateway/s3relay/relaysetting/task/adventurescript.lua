CAdventure={}

for i=1,17 do    --³õÊ¼»¯ÄÚ´æ¿Õ¼ä
	CAdventure[i]={}
	CAdventure[i].names={}
	CAdventure[i].mapseg={}
end
--43£º½£¸óÖĞÔ­£ºÉ½Â´ÖĞ
CAdventure[1].names[1]="Ch©n nói"
CAdventure[1].names[2]="Ch©n nói"
CAdventure[1].mapseg["begin"]=1
CAdventure[1].mapseg["end"]=50
--195£ºÑãµ´É½£ºĞÂÊÖ´å¸½½ü£»É½Â´ÖĞ
CAdventure[2].names[1]="GÇn T©n Thñ th«n "
CAdventure[2].names[2]="Ch©n nói"
CAdventure[2].mapseg["begin"]=51
CAdventure[2].mapseg["end"]=126
--140£ºÒ©Íõ¹È£ºĞÂÊÖ´å¸½½ü
CAdventure[3].names[1]="GÇn T©n Thñ th«n "
CAdventure[3].names[2]="GÇn T©n Thñ th«n "
CAdventure[3].mapseg["begin"]=127
CAdventure[3].mapseg["end"]=179
--167£ºµã²ÔÉ½£º³ÇÊĞ¸½½ü£»É½Â´ÖĞ
CAdventure[4].names[1]="GÇn thµnh thŞ "
CAdventure[4].names[2]="Ch©n nói"
CAdventure[4].mapseg["begin"]=180
CAdventure[4].mapseg["end"]=248
--2£º»ªÉ½£ºĞÂÊÖ´å¸½½ü£»É½Â´ÖĞ
CAdventure[5].names[1]="GÇn T©n Thñ th«n "
CAdventure[5].names[2]="Ch©n nói"
CAdventure[5].mapseg["begin"]=249
CAdventure[5].mapseg["end"]=324
--179£ºÂŞÏöÉ½£º³ÇÊĞ¸½½ü£»É½Â´ÖĞ
CAdventure[6].names[1]="GÇn thµnh thŞ "
CAdventure[6].names[2]="Ch©n nói"
CAdventure[6].mapseg["begin"]=325
CAdventure[6].mapseg["end"]=383
-- 7£ºÇØÁê£º³ÇÊĞ¸½½ü£»É½Â´ÖĞ
CAdventure[7].names[1]="GÇn thµnh thŞ "
CAdventure[7].names[2]="Ch©n nói"
CAdventure[7].mapseg["begin"]=384
CAdventure[7].mapseg["end"]=432
--92£ºÊñ¸ÚÉ½£º³ÇÊĞ¸½½ü
CAdventure[8].names[1]="GÇn thµnh thŞ "
CAdventure[8].names[2]="GÇn thµnh thŞ "
CAdventure[8].mapseg["begin"]=443
CAdventure[8].mapseg["end"]=501
--70£ºÎäÁêÉ½£ºĞÂÊÖ´å¸½½ü£»É½Â´ÖĞ
CAdventure[9].names[1]="Ch©n nói"
CAdventure[9].names[2]="Ch©n nói"
CAdventure[9].mapseg["begin"]=502
CAdventure[9].mapseg["end"]=560
--90£º·üÅ£É½¶«£º³ÇÊĞ¸½½ü£»
CAdventure[10].names[1]="GÇn thµnh thŞ "
CAdventure[10].names[2]="GÇn thµnh thŞ "
CAdventure[10].mapseg["begin"]=561
CAdventure[10].mapseg["end"]=619
--74£ºÃçÁë£ºĞÂÊÖ´å¸½½ü
CAdventure[11].names[1]="GÇn T©n Thñ th«n "
CAdventure[11].names[2]="GÇn T©n Thñ th«n "
CAdventure[11].mapseg["begin"]=620
CAdventure[11].mapseg["end"]=678
--9£º³¤½­Ô´Í·£º³ÇÊĞ¸½½ü
CAdventure[12].names[1]="GÇn thµnh thŞ "
CAdventure[12].names[2]="GÇn thµnh thŞ "
CAdventure[12].mapseg["begin"]=679
CAdventure[12].mapseg["end"]=737
--21£ºÇà³ÇÉ½£º³ÇÊĞ¸½½ü£»
CAdventure[13].names[1]="GÇn thµnh thŞ "
CAdventure[13].names[2]="GÇn thµnh thŞ "
CAdventure[13].mapseg["begin"]=738
CAdventure[13].mapseg["end"]=797
--3£º½£¸óÎ÷±±£º³ÇÊĞ¸½½ü
CAdventure[14].names[1]="GÇn thµnh thŞ "
CAdventure[14].names[2]="GÇn thµnh thŞ "
CAdventure[14].mapseg["begin"]=798
CAdventure[14].mapseg["end"]=857
--122£º»ÆºÓÔ´Í·£ºĞÂÊÖ´å¸½½ü
CAdventure[15].names[1]="GÇn T©n Thñ th«n "
CAdventure[15].names[2]="GÇn T©n Thñ th«n "
CAdventure[15].mapseg["begin"]=858
CAdventure[15].mapseg["end"]=917
-- 19£º½£¸óÎ÷ÄÏ£ºÉ½Â´ÖĞ
CAdventure[16].names[1]="Ch©n nói"
CAdventure[16].names[2]="Ch©n nói"
CAdventure[16].mapseg["begin"]=918
CAdventure[16].mapseg["end"]=977
--41£º·üÅ£É½Î÷£ºÉ½Â´ÖĞ
CAdventure[17].names[1]="Ch©n nói"
CAdventure[17].names[2]="Ch©n nói"
CAdventure[17].mapseg["begin"]=978
CAdventure[17].mapseg["end"]=1037
CAdventure.msg="Cã ng­êi ë %s ®· nh×n thÊy m¶nh S¬n Hµ X· T¾c"
--Ëæ»úÑ¡µã
function CAdventure:Random()
	mapid = 1+Random(17)
	str = format(self.msg,self[mapid].names[1+Random(2)])
	return self[mapid].mapseg["begin"]+Random(self[mapid].mapseg["end"]-self[mapid].mapseg["begin"]+1),str,mapid
end
--²úÉúÒ»¸öÉ½ºÓ±¦Îï
function CAdventure:NewCimelia()
	aid,str,mapid = CAdventure:Random()
	Date = GetCurrentTime()
	success = SaveCustomDataToSDBOw("Adventure",Date, 0, "iis", aid, 353,  "\\script\\item\\shanhesheji.lua");
	NotifySDBRecordChanged("Adventure", Date ,0 ,1);
	GlobalExecute(format("dw AddLocalNews([[%s]])", str));
	OutputMsg("T¹i"..aid.."ID khu vùc ["..mapid.."]: xuÊt hiÖn 1 b¶o vËt!");
end

function TaskShedule()
	TaskName("t×m b¶o vËt")
	TaskInterval(30)
	TaskCountLimit(0)
end

function TaskContent()
	CAdventure:NewCimelia()
end

function GameSvrConnected(dwGameSvrIP)
end
function GameSvrReady(dwGameSvrIP)
end
