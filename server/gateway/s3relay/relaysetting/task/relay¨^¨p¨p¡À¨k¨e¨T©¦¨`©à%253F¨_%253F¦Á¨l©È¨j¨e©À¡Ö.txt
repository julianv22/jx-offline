	Relay任务系统的任务脚本编写说明

　　全部以脚本设定，任务可以自动重复执行，脚本中包含两个函数TaskShedule和
TaskContent，TaskShedule函数用于设定任务的执行信息，如在和时间执行，隔多久
执行一次，共可以执行多少次等；TaskContent函数用于设定任务的内容，即任务发
生时要干些什么。

--------------------------------------------------------------------------

脚本中可以使用如下调用
TaskName(名称字符串)
  --注意：只在TaskShedule中调用有效
  --功能：设置任务名称，默认为空字串！
  --参数：名称字符串如超过15个字节长会被自动截断。

TaskTime(小时,分钟)
  --注意：只在TaskShedule中调用有效！任务的默认首次执行时间是加载任务时的当前时间
  --功能：设置任务首次触发的时间，传入参数超界则不处理。
  --参数：小时的有效范围0到23,分钟的有效范围0到59

TaskInterval(间隔时间)
  --注意：只在TaskShedule中调用有效！任务的默认间隔时间是100天。
  --功能：设置任务间隔几小时运行一次。
  --参数：间隔时间，数值单位是小时。最小有效为1，传入数值小于1则不处理。

TaskCountLimit(次数)
  --注意：只在TaskShedule中调用有效！任务的运行次数限制是1次。
  --功能：设置任务总的运行次数，即运行多少次后就不再运行，
  --参数：0表示不限次数，传入数值小于1则不处理。

TaskLoad(任务文件名)
  --功能：加载一个任务
  --参数：任务文件名（字符串）
  --返回：加载成功与否（整数） 0值表示失败，1值表示成功

TaskRelease(任务名称)
  --功能：卸载一个任务
  --参数：任务名称（字符串）
  --返回：卸载成功与否（整数） 0值表示失败(任务不存在)，1值表示成功

GetCurrentDate()
  --功能：取得当前日期
  --返回：整数表示的当前日期，= 年*10000 + 月*100 + 日

RandomSelAOnlinePlayer()
  --功能：随机获取一个在线玩家
  --返回：玩家角色名称（字符串）

RandomSelAOnlineMap()
  --功能：随机获取一个在线的地图
  --返回：地图id（整数），地图索引（整数）

SaveStringToShareDB(纪录标记字串,记录标记参数1,记录标记参数2,记录数据字串)
  --功能：保存一个字符串记录到共享数据库，如果已经存在相同主键的纪录则失败不存储
  --参数：'纪录标记字串'不能为空字符串，'记录标记参数1'与'记录标记参数2'为整数
  --返回：保存成功与否（整数） 0值表示失败，1值表示成功

SaveStringToShareDBOw(纪录标记字串,记录标记参数1,记录标记参数2,记录数据字串)
  --功能：保存一个字符串记录到共享数据库，如果已经存在相同主键的纪录则取代它
  --参数与返回含义同SaveStringToShareDB

SaveIntegerToShareDB(纪录标记字串,记录标记参数1,记录标记参数2,记录数值)
  --功能：保存一个整数记录到共享数据库，如果已经存在相同主键的纪录则失败不存储
  --参数：'纪录标记字串'不能为空字符串，'记录标记参数1'、'记录标记参数2'与'记录数值'都是整数
  --返回：保存成功与否（整数） 0值表示失败，1值表示成功

SaveIntegerToShareDBOw(纪录标记字串,记录标记参数1,记录标记参数2,记录数值)
  --功能：保存一个整数记录到共享数据库，如果已经存在相同主键的纪录则取代它
  --参数与返回含义同SaveIntegerToShareDB

SaveCustomDataToShareDB(纪录标记字串,记录标记参数1,记录标记参数2,纪录格式,记录数据……)
  --功能：保存组字符串与整数任意组合的记录到共享数据库，如果已经存在相同主键的纪录则失败不存储
  --参数：'纪录标记字串'不能为空字符串，'记录标记参数1'与'记录标记参数2'为整数
          '纪录格式'为非空字符串，字符串中出现的字符只可以是字母s或字母i(大小写都行)
          其中s表示存储一个字符串，i表示存储一个整数
          '纪录数据……'为一序列的字符串与整数，他们的排列顺序必须与'纪录格式'中表示的相一致。
  --返回：保存成功与否（整数） 0值表示失败，1值表示成功

SaveCustomDataToShareDBOw(纪录标记字串,记录标记参数1,记录标记参数2,纪录格式,记录数据……)
  --功能：保存组字符串与整数任意组合的记录到共享数据库，如果已经存在相同主键的纪录则取代它
  --参数与返回含义同SaveCustomDataToShareDB

ClearRecordOnShareDB(纪录标记字串,记录标记参数1,记录标记参数2)
  --功能：删除共享数据库中的指定记录
  --参数：传入参数为1个或者3个，如果只穿入第一个参数，则表示只要标记字串相同的记录都删除
          '纪录标记字串'不能为空字符串，'记录标记参数1'与'记录标记参数2'都是整数

NotifySDBRecordChanged(纪录标记字串,记录标记参数1,记录标记参数2)
  --功能：通知游戏世界服务器说共享数据库中的存储纪录变了
  --参数：'纪录标记字串'不能为空字符串，'记录标记参数1'与'记录标记参数2'都是整数

------------------------------------------------------------------------------------------
脚本示例：
function TaskContent()
	TaskName("幸运之星")
	TaskTime(16,30)
	TaskInterval(24)
	TaskCountLimit(0)
end

function TaskContent()
	role = RandomSelAOnlinePlayer()
	date = GetCurrentDate()
	success = OwSaveStringToSDB("幸运之星", 0, 0, role)
	success = OwSaveStringToSDB("幸运之星", date, 0, role)
end
